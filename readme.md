# Test Eurobench docker calls

[![license - apache 2.0](https://img.shields.io/:license-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)

Copyright Tecnalia 2020

## Purposes

Contains generic python file for testing (in CI process) a docker image generated within the context of the [Eurobench framework](https://github.com/aremazeilles/eurobench_documentation).

An Eurobench docker image is defined by:

* an algorithm to launch.
  It is associated to a script available in the docker image (`pi_name`)
* A folder with reference input data files (`input_folder`)
* A folder with reference output data files (`output_folder`)
* A set of input parameters provided to the Pi algorithm (`parameters`)

All that information is provided within an XML file, with the following content:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<test_plan>
<test pi_name="./run_protocol1"
      parameters="/in/jointAngles.csv /in/platformData.csv /in/emg.csv /out"
      input_folder="data/protocol1/input"
      output_folder="data/protocol1/output"/>
<test pi_name="./run_protocol2"
      parameters="/in/jointAngles.csv /in/platformData.csv /in/emg.csv /out"
      input_folder="data/protocol2/input"
      output_folder="data/protocol2/output"/>
</test_plan>
```

In the previous example, two tests will be conducted.
The first one will launch the algorithm `./run_protocol1`.
All input files are stored in the folder `data/protocol1/input`.
The parameters required by the script is indicated through the tag `parameters`, where `/in` is the folder containing the input files.
A set of files are to be generated by the program.
All will be compared with the reference ones, as provided within the folder indicated in the `output_folder` tag.

## Installation and usage

We currently use that file directly within the CI process, so that no proper installation is so far envisioned: the python test file is directly downloaded locally for use.

